loadstring(game:HttpGet("https://raw.githubusercontent.com/SuperHackerYT/skibidi/refs/heads/main/Extras.txt"))()

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local NotificationGUI = Instance.new("ScreenGui")
NotificationGUI.Name = "RankTagNotification"
NotificationGUI.ResetOnSpawn = false
NotificationGUI.DisplayOrder = 1000
NotificationGUI.Parent = player:WaitForChild("PlayerGui")

local NotificationFrame = Instance.new("Frame")
NotificationFrame.Name = "NotificationFrame"
NotificationFrame.Size = UDim2.new(0, 350, 0, 200)
NotificationFrame.Position = UDim2.new(0.5, -175, 0.5, -100)
NotificationFrame.AnchorPoint = Vector2.new(0.5, 0.5)
NotificationFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
NotificationFrame.BackgroundTransparency = 0.9
NotificationFrame.BorderSizePixel = 0
NotificationFrame.Visible = false

local Corner = Instance.new("UICorner")
Corner.CornerRadius = UDim.new(0, 20)
Corner.Parent = NotificationFrame

local Stroke = Instance.new("UIStroke")
Stroke.Color = Color3.fromRGB(255, 255, 255)
Stroke.Thickness = 1
Stroke.Transparency = 0.9
Stroke.Parent = NotificationFrame

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Name = "TitleLabel"
TitleLabel.Size = UDim2.new(1, 0, 0, 50)
TitleLabel.Position = UDim2.new(0, 0, 0, 0)
TitleLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.BackgroundTransparency = 0.95
TitleLabel.Text = "Rank Tags"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 20
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextXAlignment = Enum.TextXAlignment.Center
TitleLabel.TextYAlignment = Enum.TextYAlignment.Center
TitleLabel.Parent = NotificationFrame

local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 20)
TitleCorner.Parent = TitleLabel

local MessageLabel = Instance.new("TextLabel")
MessageLabel.Name = "MessageLabel"
MessageLabel.Size = UDim2.new(1, -40, 0, 80)
MessageLabel.Position = UDim2.new(0, 20, 0, 60)
MessageLabel.BackgroundTransparency = 1
MessageLabel.Text = "Enable Rank Tags?\nSpecial tags next to player names."
MessageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
MessageLabel.TextSize = 16
MessageLabel.Font = Enum.Font.Gotham
MessageLabel.TextWrapped = true
MessageLabel.TextXAlignment = Enum.TextXAlignment.Center
MessageLabel.TextYAlignment = Enum.TextYAlignment.Center
MessageLabel.Parent = NotificationFrame

local TimerLabel = Instance.new("TextLabel")
TimerLabel.Name = "TimerLabel"
TimerLabel.Size = UDim2.new(1, 0, 0, 20)
TimerLabel.Position = UDim2.new(0, 0, 1, -70)
TimerLabel.BackgroundTransparency = 1
TimerLabel.Text = "Auto-disables in 5"
TimerLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TimerLabel.TextSize = 14
TimerLabel.Font = Enum.Font.Gotham
TimerLabel.TextXAlignment = Enum.TextXAlignment.Center
TimerLabel.Parent = NotificationFrame

local ButtonsContainer = Instance.new("Frame")
ButtonsContainer.Name = "ButtonsContainer"
ButtonsContainer.Size = UDim2.new(1, -40, 0, 50)
ButtonsContainer.Position = UDim2.new(0, 20, 1, -50)
ButtonsContainer.BackgroundTransparency = 1
ButtonsContainer.Parent = NotificationFrame

local YesButton = Instance.new("TextButton")
YesButton.Name = "YesButton"
YesButton.Size = UDim2.new(0.45, 0, 1, 0)
YesButton.Position = UDim2.new(0, 0, 0, 0)
YesButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
YesButton.BackgroundTransparency = 0.9
YesButton.Text = "YES"
YesButton.TextColor3 = Color3.fromRGB(255, 255, 255)
YesButton.TextSize = 18
YesButton.Font = Enum.Font.GothamBold
YesButton.Parent = ButtonsContainer

local YesCorner = Instance.new("UICorner")
YesCorner.CornerRadius = UDim.new(0, 10)
YesCorner.Parent = YesButton

local YesStroke = Instance.new("UIStroke")
YesStroke.Color = Color3.fromRGB(255, 255, 255)
YesStroke.Thickness = 1
YesStroke.Transparency = 0.9
YesStroke.Parent = YesButton

local NoButton = Instance.new("TextButton")
NoButton.Name = "NoButton"
NoButton.Size = UDim2.new(0.45, 0, 1, 0)
NoButton.Position = UDim2.new(0.55, 0, 0, 0)
NoButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
NoButton.BackgroundTransparency = 0.9
NoButton.Text = "NO"
NoButton.TextColor3 = Color3.fromRGB(255, 255, 255)
NoButton.TextSize = 18
NoButton.Font = Enum.Font.GothamBold
NoButton.Parent = ButtonsContainer

local NoCorner = Instance.new("UICorner")
NoCorner.CornerRadius = UDim.new(0, 10)
NoCorner.Parent = NoButton

local NoStroke = Instance.new("UIStroke")
NoStroke.Color = Color3.fromRGB(255, 255, 255)
NoStroke.Thickness = 1
NoStroke.Transparency = 0.9
NoStroke.Parent = NoButton

local function buttonHover(button, originalTransparency)
    button.MouseEnter:Connect(function()
        button.BackgroundTransparency = originalTransparency - 0.05
    end)
    
    button.MouseLeave:Connect(function()
        button.BackgroundTransparency = originalTransparency
    end)
end

buttonHover(YesButton, 0.9)
buttonHover(NoButton, 0.9)

local countdownTimer = nil
local countdownTime = 5
local originalCountdownTime = 5

local function saveRankTagSetting(enabled)
    player:SetAttribute("RankTagsEnabled", enabled)
end

local function loadRankTagSetting()
    local saved = player:GetAttribute("RankTagsEnabled")
    if saved ~= nil then
        return saved
    end
    return nil
end

local function setRankTagsEnabled(enabled)
    if enabled then
        local success, error = pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/SuperHackerYT/skibidi/refs/heads/main/TagRank.txt"))()
        end)
        if not success then
            warn("Failed to load Rank Tags:", error)
        end
    end
    saveRankTagSetting(enabled)
end

local function showNotification()
    local savedSetting = loadRankTagSetting()
    if savedSetting ~= nil then
        setRankTagsEnabled(savedSetting)
        return
    end
    
    countdownTime = originalCountdownTime
    TimerLabel.Text = "Auto-disables in " .. countdownTime
    
    NotificationFrame.Visible = true
    
    if countdownTimer then
        countdownTimer:Disconnect()
    end
    
    countdownTimer = game:GetService("RunService").Heartbeat:Connect(function(delta)
        countdownTime = countdownTime - delta
        TimerLabel.Text = "Auto-disables in " .. math.floor(countdownTime)
        
        if countdownTime <= 0 then
            countdownTimer:Disconnect()
            NotificationFrame.Visible = false
            setRankTagsEnabled(false)
        end
    end)
end

local function hideNotification()
    if countdownTimer then
        countdownTimer:Disconnect()
        countdownTimer = nil
    end
    NotificationFrame.Visible = false
end

YesButton.MouseButton1Click:Connect(function()
    hideNotification()
    setRankTagsEnabled(true)
end)

NoButton.MouseButton1Click:Connect(function()
    hideNotification()
    setRankTagsEnabled(false)
end)

task.spawn(function()
    task.wait(2)
    showNotification()
end)

return {
    showNotification = showNotification,
    hideNotification = hideNotification
}